package hr.nhex.battle;

import hr.nhex.board.Board;
import hr.nhex.board.BoardTile;
import hr.nhex.decks.BorgoDeck;
import hr.nhex.decks.HegemonyDeck;
import hr.nhex.model.Player;
import hr.nhex.model.Tile;

import java.awt.Color;

import org.junit.Test;

public class BattleSimulatorTest {

	public void battleTest() {

		Player firstPlayer = new Player("Stijena", Color.YELLOW);
		Player secondPlayer = new Player("Marin", Color.GREEN);

		HegemonyDeck deck = new HegemonyDeck();
		for (Tile tile : deck.getTiles()) {
			if (tile instanceof BoardTile) {
				((BoardTile)tile).setPlayer(firstPlayer);
			}
		}

		BorgoDeck deck2 = new BorgoDeck();
		for (Tile tile : deck2.getTiles()) {
			if (tile instanceof BoardTile) {
				((BoardTile)tile).setPlayer(secondPlayer);
			}
		}

		deck.getTiles();

		Board board = new Board();

		board.addTile((BoardTile)deck.getTileByName("Officer One"), 0, 0, 0);
		board.addTile((BoardTile)deck.getTileByName("Ganger"), 0, 1, 0);
		board.addTile((BoardTile)deck.getTileByName("Runner"), 1, 0, 1);
		board.addTile((BoardTile)deck.getTileByName("Universal Soldier"), 2, 0, 4);
		board.addTile((BoardTile)deck.getTileByName("The Boss"), 2, -1, 1);
		board.addTile((BoardTile)deck.getTileByName("Scout"), -1, 2, 1);

		board.addTile((BoardTile)deck2.getTileByName("Mutant"), 0, 2, 3);
		board.addTile((BoardTile)deck2.getTileByName("Super Mutant"), 1, 1, 3);
		board.addTile((BoardTile)deck2.getTileByName("Officer"), 2, -2, 1);
		board.addTile((BoardTile)deck2.getTileByName("Super Mutant"), 2, -2, 1);
		board.addTile((BoardTile)deck2.getTileByName("Butcher"), 1, -1, 1);

		BattleSimulator bs = new BattleSimulator(board);
		bs.executeBattle();
		bs.printBoardUnitState();

	}

	@Test
	public void battleTest2() {

		Player firstPlayer = new Player("Stijena", Color.YELLOW);
		Player secondPlayer = new Player("Marin", Color.GREEN);

		HegemonyDeck deck = new HegemonyDeck();
		for (Tile tile : deck.getTiles()) {
			if (tile instanceof BoardTile) {
				((BoardTile)tile).setPlayer(firstPlayer);
			}
		}

		BorgoDeck deck2 = new BorgoDeck();
		for (Tile tile : deck2.getTiles()) {
			if (tile instanceof BoardTile) {
				((BoardTile)tile).setPlayer(secondPlayer);
			}
		}

		deck.getTiles();

		Board board = new Board();

		board.addTile((BoardTile)deck.getTileByName("Runner"), -1, 0, 0);
		board.addTile((BoardTile)deck.getTileByName("Universal Soldier"), -1, 2, 4);
		board.addTile((BoardTile)deck.getTileByName("Thug"), 1, -2, 1);
		board.addTile((BoardTile)deck.getTileByName("Gladiator"), 1, 0, 0);

		board.addTile((BoardTile)deck2.getTileByName("Mutant"), 0, 0, 0);
		board.addTile((BoardTile)deck2.getTileByName("Super Mutant"), -2, 2, 0);
		board.addTile((BoardTile)deck2.getTileByName("Mutant"), -1, -1, 1);
		board.addTile((BoardTile)deck2.getTileByName("Butcher"), 2, -2, 2);
		board.addTile((BoardTile)deck2.getTileByName("Butcher"), 0, 2, 3);
		board.addTile((BoardTile)deck2.getTileByName("Assassin"), 2, 0, 3);

		board.addTile((BoardTile)deck2.getTileByName("Scout"), 1, 1, 3);


		BattleSimulator bs = new BattleSimulator(board);

		System.out.println("Before battle: ");
		bs.printBoardState();
		bs.executeBattle();
		System.out.println("After battle: ");
		bs.printBoardState();

	}

	@Test
	public void battleTest3() {

		Player firstPlayer = new Player("Lenard", Color.YELLOW);
		Player secondPlayer = new Player("Luka", Color.GREEN);

		HegemonyDeck deck = new HegemonyDeck();
		for (Tile tile : deck.getTiles()) {
			if (tile instanceof BoardTile) {
				((BoardTile)tile).setPlayer(firstPlayer);
			}
		}

		BorgoDeck deck2 = new BorgoDeck();
		for (Tile tile : deck2.getTiles()) {
			if (tile instanceof BoardTile) {
				((BoardTile)tile).setPlayer(secondPlayer);
			}
		}

		deck.getTiles();

		Board board = new Board();



	}


}
